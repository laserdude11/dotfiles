#!/bin/sh
# Grab a color from the current colorscheme

# Get a color name
if $(echo $1 | grep -q "color[0-9]\{1,2\}"); then 
    cn=$1
else
    case $1 in
        black) cn="color0"  ;; brblack) cn="color8"  ;;
        red) cn="color1"    ;; brred) cn="color9"    ;;
        green) cn="color2"  ;; brgreen) cn="color10"  ;;
        yellow) cn="color3" ;; bryellow) cn="color11" ;;
        blue) cn="color4"   ;; brblue) cn="color13"   ;;
        purple) cn="color5" ;; brpurple) cn="color14" ;;
        cyan) cn="color6"   ;; brcyan) cn="color15"   ;;
        white) cn="color7"  ;; brwhite) cn="color16"  ;;
    esac

fi

# Find the colorscheme that's up now
scheme=$(for scheme in $(ls -1 $HOME/.xrdb.d/colors); do grep -o $scheme $HOME/.xrdb.d/colorscheme; done)

echo $(grep "$cn:" ~/.xrdb.d/colors/$scheme | cut -d: -f2 | tr -d ' ')

